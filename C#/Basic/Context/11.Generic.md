# ëª©ì°¨

<br>

# Generic Class

C++ì˜ í…œí”Œë¦¿ê³¼ ìœ ì‚¬

    - ì´ˆê¸°í™”ëŠ” ë””í´íŠ¸ë¥¼ ì´ìš©í•œë‹¤.

        `T xPos = default(T)` Tì˜ ë””í´íŠ¸ ìƒì„±ìì™€ ë™ì¼í•˜ë‹¤.

    - ë³´í†µ ì»¬ë ‰ì…˜ (ì»¨í…Œì´ë„ˆ)í´ë˜ìŠ¤ ì—ì„œ ë§ì´ ì‚¬ìš©í•œë‹¤.

        `LinkedList<int> s = new LinkedList<int>();`

```C#
class Point<T>
{
    private T x;
    private T y;

    // C++ : T a = T()
    public Point( T xPos = default(T), T yPos = default(T))
    {
        x = xPos;
        y = yPos;
    }
}
```

<br>

# Generic Method

- ë©”ì„œë“œ ë˜í•œ ì œë„¤ë¦­ìœ¼ë¡œ í•  ìˆ˜ ìˆë‹¤.

  ```C#
  public static T Foo1<T>(T a) { ~~ }
  ```

- ì»´íŒŒì¼ëŸ¬ì— ì˜í•œ íƒ€ì… ì¶”ë¡ ë„ ì§€ì›í•œë‹¤.

  ```C#
  Foo1(1);
  ```

- ì—¬ëŸ¬ ì¸ìë„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

  ```C#
    static void Main()
    {
        Foo2(1, 2);             //int, int
        Foo2(1, 3.4);           //double, double
        //Foo2(1, "AAA");       // error
        Foo2<object>(1, "AAA"); // int, string
    }

  public static T Foo2<T>(T a, T b)
  {
        // aê°€ ê°€ë¦¬í‚¤ëŠ” ì‹¤ì œ ê°ì²´ì˜ íƒ€ì…..
        Type t = a.GetType();
        Console.WriteLine(t.FullName);

        //Tì˜ íƒ€ì… ì¶œë ¥.
        Type t2 = typeof(T);
        Console.WriteLine(t2.FullName);
        return a;
    }
  ```

# ì œë„¤ë¦­ ì œì•½ (Generic Constraint)

Value Type(int)ë¥¼ ìƒì„±í• ë–„ ë¹„êµ ì—°ì‚°ìë¥¼ ì“°ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤.

í•˜ì§€ë§Œ Ref Type(String)ì€ ë¹„êµ ì—°ì‚°ìê°€ ì§€ì›ì´ ì•ˆë˜ê³  CompairToë¡œ ë¹„êµë¥¼ í•œë‹¤.

```C#
public static int Max(int a, int b)
{
    return a < b ? b : a;
}
public static string Max(string a, string b)
{
    return a.CompareTo(b) < 0 ? b : a;
}
```

ê°™ì€ íƒ€ì… í•¨ìˆ˜ë¥¼ ê³„ì† ë§Œë“¤ë©´ ë¹„íš¨ìœ¨ì ì„.

- êµ¬í˜„ë¶€ê°€ ë‹¤ë¥´ë‹¤. Value Typeì€ CompareToì™€ ì—°ì‚°ì ê°€ëŠ¥í•˜ë‚˜, Ref Typeì€ CompareToë§Œ ê°€ëŠ¥.

=> CompareToë¡œ ë³€í™˜

```C#
public static int Max(int a, int b)
{
    return a.CompareTo(b) < 0 ? b : a;
}
public static string Max(string a, string b)
{
    return a.CompareTo(b) < 0 ? b : a;
}

```

ì–´ë–»ê²Œ ë°”ê¿€ê¹Œ?

1.  Objectì‚¬ìš©

    ë‹¨ì 1. ObjectëŠ” CompareToí•¨ìˆ˜ê°€ ì—†ìŒ

         => IComparableë¡œ ìºìŠ¤íŒ…

    ë‹¨ì 2. ë°˜í™˜ê°’ì´ Object

         => ë°˜í™˜ê°’ì„ ë‹¤ì‹œ ìºìŠ¤íŒ… í•´ì¤˜ì•¼í•¨.

    ë‹¨ì 3. Value Typeì„ Objectë¡œ ì „ë‹¬í•¨

        => Boxing / UnBoxing ë°œìƒ

    ğŸ’¡ ìºìŠ¤íŒ…ê³¼ Boxingìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ ë°œìƒ

    ```C#
    public static object Max(object a, object b)
    {
        //ì¼€ìŠ¤íŒ… í•˜ì—¬ Compareì„ ì“¸ ìˆ˜ ìˆê²Œ í•¨.
        IComparable c1 = a as IComparable;
        IComparable c2 = b as IComparable;

        return c1.CompareTo(c2) < 0 ? b : a;
    }
    ```

2.  ì¸í„°í˜ì´ìŠ¤ ë°›ê¸° (IComparable)

    ì¥ì . ìºìŠ¤íŒ…ì´ ì‚¬ë¼ì§.

    ë‹¨ì 1. ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ëŠ” ë ˆí¼ëŸ°ìŠ¤ íƒ€ì…ì´ë‹¤.

        Boxing / UnBoxing ë°œìƒ

    ë‹¨ì 2. ë°˜í™˜ê°’ ë°›ì„ë•Œ ë˜í•œ ìºìŠ¤íŒ… í•„ìš”

    ```C#
    public static object Max(IComparable a, IComparable b)
    {
        return a.CompareTo(b) < 0 ? b : a;
    }
    ```

3.  Genericì‚¬ìš©.

    ì¥ì 1. Boxing/UnBoxing ì´ ì—†ë‹¤.

    ë‹¨ì 1. CompareTo()ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

        ì„ì˜ì˜ íƒ€ì…ì— í•´ë‹¹ í•¨ìˆ˜ê°€ ìˆì„ì§€ ì•„ë‹ì§€ ëª¨ë¥¸ë‹¤.

    ğŸ’¡ Equalsì€ ê°€ëŠ¥í•˜ë‹¤. => ì˜¤ë¸Œì íŠ¸ë¡œ í•  ìˆ˜ ìˆëŠ” ì—°ì‚°ë§Œ ê°€ëŠ¥.

        ```C#
        public static T Max<T>(T a, T b)
        {
            // ê¸°ë³¸ì ìœ¼ë¡œ objectë¡œ í• ìˆ˜ ìˆëŠ” ì—°ì‚°ë§Œ ê°€ëŠ¥
            // a.Equals(b); // ok.. object ë©¤ë²„
            return a.CompareTo(b) < 0 ? b : a;
        }
        ```

4.  Generic ì œì•½ ì‚¬ìš© (Where)

    `Where T : ICompareable`ì„ ì´ìš©í•´ TëŠ” ICompareableë¥¼ ìƒì†ë°›ì•„ì•¼ ê°€ëŠ¥í•˜ê²Œ í•œì •í•œë‹¤.

        ```C#
        public static T Max<T>(T a, T b) where T : IComparable, new()
        {
            return a.CompareTo(b) < 0 ? b : a;
        }
        ```

    Generic Constraint

    ,ë¥¼ í†µí•´ ì—¬ëŸ¬ ì œì•½ì„ ê±¸ ìˆ˜ ìˆë‹¤.

    <br>

    |      | where T : class | where T : struct | where T : new()    | where T : InterfaceName       | where T : ClassName     |
    | ---- | --------------- | ---------------- | ------------------ | ----------------------------- | ----------------------- |
    | ì œì•½ | Ref Type        | Value Type       | ë””í´íŠ¸ ìƒì„±ì ì¡´ì¬ | í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í•œ ëŒ€ìƒë§Œ | í•´ë‹¹ í´ë˜ìŠ¤ ìƒì†í•´ì•¼ í•¨ |

    <br>

    C++20 ì—ì„œëŠ” concept ì´ë¼ê³  í•œë‹¤.
